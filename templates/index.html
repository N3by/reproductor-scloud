<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reproductor SoundCloud</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

    <div class="player-container">
        <h1>Mi Reproductor de M煤sica</h1>

        <!-- Iframe oculto v铆a CSS, pero necesario para la API -->
        <iframe id="soundcloud-widget"
                width="100%"
                scrolling="no"
                frameborder="no"
                allow="autoplay"
                style="border: none; overflow: hidden; height: 0; opacity: 0; margin: 0; padding: 0;"
                src="https://w.soundcloud.com/player/?url={{ playlist_url }}&auto_play=false&buying=false&sharing=false&download=false&show_artwork=false&visual=false&show_comments=false&show_playcount=false&show_user=false&show_reposts=false&color=%23ff5500&hide_related=true">
        </iframe>

        <!-- Controles personalizados (CON el bot贸n unlock global) -->
        <div class="controls">
            <button id="prev-btn" title="Anterior">锔</button>
            <button id="play-pause-btn" title="Reproducir/Pausar">讹</button>
            <button id="next-btn" title="Siguiente">锔</button>
            <button id="unlock-btn" title="Desbloquear TODO (Contrase帽a)"></button> <!-- Bot贸n Global -->
        </div>

        <!-- Informaci贸n de la pista actual -->
        <div id="track-info">
            Cargando informaci贸n de la pista...
        </div>

        <!-- Barra de Progreso y Tiempos -->
        <div class="progress-section">
            <div id="progress-container" class="progress-container">
                <div id="progress-bar" class="progress-bar"></div>
            </div>
            <div class="time-display">
                <span id="current-time">0:00</span> / <span id="total-duration">0:00</span>
            </div>
        </div>

        <!-- Contenedor para la lista de canciones -->
        <div class="playlist-container">
            <h2>Lista de Reproducci贸n</h2>
            <ul id="playlist-tracks">
                <li>Cargando lista...</li> <!-- Mensaje inicial -->
            </ul>
        </div>

    </div> <!-- Fin de .player-container -->

    <!-- Modal para la Contrase帽a -->
    <div id="password-modal" class="modal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <h3>Desbloquear Todas las Canciones</h3>
            <label for="password-input">Contrase帽a:</label>
            <!-- Input de tipo password para ocultar caracteres -->
            <input type="password" id="password-input" name="password-input" required>
            <div class="modal-actions">
                <button id="modal-ok-btn">Desbloquear</button>
                <button id="modal-cancel-btn">Cancelar</button>
            </div>
        </div>
    </div>
    <!-- FIN Modal -->

    <!-- Scripts -->
    <script src="https://w.soundcloud.com/player/api.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>

</body>
</html>